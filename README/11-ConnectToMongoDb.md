1. create mongodb database

2. npm install dotenv mongoose @typegoose/typegoose

3. put mongodb uri in .env
   MONGODB_URI=mongodb://localhost/tsmernamazona

4. In index.ts

   1. import dotenv to excees .env file
   2. ````js
      dotenv.config();

      const MONGODB_URI =
        process.env.MONGODB_URI || 'mongodb://localhost/ihababoudargham78';
        mongoose.set('strictQuery', true); // by having this option set to true, Mongoose will throw an error if the query does not match the schema qnd prevent deprecation warnings. Deprecation warning are warning due to the fact that Mongoose 7 will no longer support the use of findOneAndUpdate() and findOneAndDelete() without the use of the options object.
        mongoose
          .connect(MONGODB_URI)
          .then(() => {
            console.log('connected to mongodb');
          })
          .catch(() => {
            console.log('error mongodb');
          });
        ```
      ````

   ```

   ```

5. After that create a model:
6. @ModelOptions({ schemaOptions: { timestamps: true } })

7. Define a class for it:

   ````js
     export class Product {
       // ! means it is required. and _id is alway generated by mongodb
       public _id!: string;

        @prop({ required: true })
        public name!: string;

        @prop({ required: true, unique: true })
        public slug!: string;

        @prop({ required: true })
        public image!: string;

        @prop({ required: true })
        public storeName!: string;

        @prop({ required: true })
        public productCategory!: string;

        @prop({ required: true })
        public description!: string;

        @prop({ required: true, default: 0 })
        public price!: number;

        @prop({ required: true, default: 0 })
        public countInStock!: number;

        @prop({ required: true, default: 0 })
        public rating!: number;

        @prop({ required: true, default: 0 })
        public numReviews!: number;
          }
        ```
   ````

8. After that , we should export it:
   export const ProductModel = getModelForClass(Product);
